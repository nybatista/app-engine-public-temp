@use '../core/globals' as *;

@mixin form-styles($prefix: '', $addPrefixToCssVars: false) {
  // Decide if CSS variables should be prefixed
  $prefixVar: if(
    $addPrefixToCssVars and $prefix != '' and $prefix != null,
    '#{$prefix}',
    ''
  );

  .#{$prefix}form {
    & input,
    & textarea,
    & select {
      display: block;
      width: 100%;
      padding: var(--#{$prefixVar}spacing-2) var(--#{$prefixVar}spacing-3);
      font-family: var(--#{$prefixVar}font-sans);
      font-size: var(--#{$prefixVar}font-size-sm);
      line-height: var(--#{$prefixVar}line-height-normal);
      color: var(--#{$prefixVar}text-primary);
      background-color: var(--#{$prefixVar}paper);
      border: 1px solid var(--#{$prefixVar}border);
      border-radius: 0.375rem; // 6px
      transition:
        border-color var(--#{$prefixVar}duration-200)
          var(--#{$prefixVar}ease-in-out),
        box-shadow var(--#{$prefixVar}duration-200)
          var(--#{$prefixVar}ease-in-out);

      &:focus {
        outline: none;
        border-color: var(--#{$prefixVar}brand);
        box-shadow: 0 0 0 3px
          color-mix(in srgb, var(--#{$prefixVar}brand) 30%, transparent);
      }

      &:disabled {
        background-color: var(--#{$prefixVar}bg);
        color: var(--#{$prefixVar}text-muted);
        cursor: not-allowed;
      }
    }

    & label {
      display: block;
      margin-bottom: var(--#{$prefixVar}spacing-1);
      font-size: var(--#{$prefixVar}font-size-sm);
      font-weight: var(--#{$prefixVar}font-weight-medium);
      color: var(--#{$prefixVar}text-secondary);
    }

    & input[type='checkbox'],
    & input[type='radio'] {
      display: inline-block;
      width: 1rem;
      height: 1rem;
      margin-right: var(--#{$prefixVar}spacing-2);
      border-radius: 0.25rem;
      border: 1px solid var(--#{$prefixVar}border);
      background-color: var(--#{$prefixVar}paper);

      &:checked {
        background-color: var(--#{$prefixVar}brand);
        border-color: var(--#{$prefixVar}brand);
      }
    }
  }
}
